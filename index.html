<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Portal - Latest News & Fresher Jobs | Experience Jobs | Breaking News, Analysis & More</title>

    <!-- Critical Preconnects -->
    <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://firebasestorage.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>

    <!-- Critical CSS Preloads -->
    <link rel="preload" href="css/critical.css" as="style">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" as="style">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Lora:wght@400;500;600&display=swap"
        media="print" onload="this.media='all'" crossorigin>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css"
        media="print" onload="this.media='all'" crossorigin>

    <!-- Critical CSS -->
    <link rel="stylesheet" href="css/critical.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Deferred CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css"
        media="print" onload="this.media='all'">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Lora:wght@400;500;600&display=swap"
        media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" media="print"
        onload="this.media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.css" media="print"
        onload="this.media='all'">
    <link rel="stylesheet" href="/css/social-share.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="css/news-sections.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="/css/loader.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="css/banners.css" media="print" onload="this.media='all'">

    <!-- Fallback for CSS -->
    <noscript>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css">
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Lora:wght@400;500;600&display=swap">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.css">
        <link rel="stylesheet" href="/css/social-share.css">
        <link rel="stylesheet" href="css/news-sections.css">
        <link rel="stylesheet" href="/css/loader.css">
        <link rel="stylesheet" href="css/banners.css">
        <link rel="stylesheet" href="css/stylesfix.css">
    </noscript>

    <!-- Meta Tags -->
    <meta name="description"
        content="Latest news, breaking news, headlines from India and around the world. Get real-time updates on politics, technology, entertainment, sports, and more.">
    <meta name="keywords"
        content="news, breaking news, latest news, india news, world news, politics, technology, entertainment, sports">
    <meta name="author" content="News Portal">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">

    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple-touch-icon.webp">
    <link rel="manifest" href="site.webmanifest">

    <!-- Social Media Meta Tags -->
    <meta property="og:title" content="News Portal - Latest News & Updates">
    <meta property="og:description"
        content="Stay updated with the latest news from around the world. Breaking news, analysis, and in-depth coverage of current events.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="assets/images/og-image.jpg">
    <meta property="og:url" content="https://bcvworld.com">
    <meta property="og:site_name" content="News Portal">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="News Portal - Latest News & Updates">
    <meta name="twitter:description"
        content="Stay updated with the latest news from around the world. Breaking news, analysis, and in-depth coverage of current events.">
    <meta name="twitter:image" content="assets/images/twitter-image.jpg">

    <!-- Mobile App Meta -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="News Portal">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YEJYBRRRL7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-YEJYBRRRL7');
    </script>
    
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PJ53H9H5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- AdSense Script -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6284022198338659" crossorigin="anonymous"></script>
    <script>
        /*
         * Replaced multiple conflicting ad initializers with a single idempotent initializer.
         * This function will initialize all <ins class="adsbygoogle"> nodes once, will mark
         * data-init attribute to avoid double-initialization, and will mark unfilled slots
         * (no iframe injected after a short delay) with .ad-unfilled for graceful fallback.
         */
        (function(){
            var io;
            function setupLazyInit(){
                try { window.adsbygoogle = window.adsbygoogle || []; } catch(e){ window.adsbygoogle = []; }
                if (io) return;
                io = new IntersectionObserver(function(entries){
                    entries.forEach(function(entry){
                        var ad = entry.target;
                        if (!entry.isIntersecting) return;
                        try {
                            if (ad.getAttribute('data-init') === 'true') { io.unobserve(ad); return; }
                            if (ad.querySelector('iframe')) { io.unobserve(ad); return; }
                            if (!window.adsbygoogle || typeof window.adsbygoogle.push !== 'function') return;
                            window.adsbygoogle.push({});
                            ad.setAttribute('data-init', 'true');
                            setTimeout(function(){
                                if (!ad.querySelector('iframe')) { ad.classList.add('ad-unfilled'); }
                                else { ad.classList.remove('ad-unfilled'); }
                            }, 1400);
                            io.unobserve(ad);
                        } catch(e){}
                    });
                }, { root: null, rootMargin: '200px', threshold: 0 });
                document.querySelectorAll('ins.adsbygoogle').forEach(function(ad){ try { io.observe(ad); } catch(e){} });
            }

            // Retry helper: waits for adsbygoogle lib to be ready then calls init
            function waitForLibAndInit(timeoutMs) {
                var start = Date.now();
                timeoutMs = timeoutMs || 7000;
                (function poll(){
                    if (window.adsbygoogle && typeof window.adsbygoogle.push === 'function') {
                        setupLazyInit();
                    } else if (Date.now() - start < timeoutMs) {
                        setTimeout(poll, 250);
                    } else {
                        // final attempt regardless
                        setupLazyInit();
                    }
                })();
            }

            // Single entry points
            document.addEventListener('DOMContentLoaded', function(){ waitForLibAndInit(7000); });
            window.addEventListener('load', function(){ waitForLibAndInit(3000); });

            // MutationObserver watches for dynamically inserted ad nodes
            var mo = new MutationObserver(function(mutations){
                var found = false;
                mutations.forEach(function(m){
                    m.addedNodes.forEach(function(n){
                        if (n.nodeType === 1) {
                            if (n.matches && n.matches('ins.adsbygoogle')) found = true;
                            if (n.querySelectorAll && n.querySelectorAll('ins.adsbygoogle').length) found = true;
                        }
                    });
                });
                if (found) {
                    clearTimeout(window.__adInitDebounce);
                    window.__adInitDebounce = setTimeout(function(){
                        if (io) {
                            document.querySelectorAll('ins.adsbygoogle').forEach(function(ad){ try { io.observe(ad); } catch(e){} });
                        } else {
                            waitForLibAndInit(3000);
                        }
                    }, 250);
                }
            });
            document.addEventListener('DOMContentLoaded', function(){
                var target = document.body || document.documentElement;
                if (target && (target.nodeType === 1 || target.nodeType === 9)) {
                    try { mo.observe(target, { childList: true, subtree: true }); } catch(e) {}
                }
                setupLazyInit();
            });

            // Expose a simple diagnostics helper (call from console)
            window.__adsDiagnostics = function(){
                var list = [];
                document.querySelectorAll('ins.adsbygoogle').forEach(function(ad){
                    list.push({
                        slot: ad.getAttribute('data-ad-slot') || null,
                        inited: ad.getAttribute('data-init') === 'true',
                        hasIframe: !!ad.querySelector('iframe'),
                        rect: ad.getBoundingClientRect ? ad.getBoundingClientRect().toJSON() : null
                    });
                });
                console.table(list);
                return list;
            };
        })();
    </script>
    <style>
        ins.adsbygoogle { display:block !important; width:100% !important; height:auto !important; min-height:0 !important; background:transparent !important; }
        .ad-banner-horizontal, .ad-space, .ad-container, .ad-box { background:transparent !important; border:0 !important; }
        .ad-banner-horizontal .adsbygoogle, .ad-space .adsbygoogle { width:100% !important; height:auto !important; }
    </style>
</head>

<body>
    <div id="top-bar-container">
        <div class="top-bar-skeleton">
            <div class="container">
                <div class="top-bar-content d-flex justify-content-between">
                    <div class="skeleton-left"></div>
                    <div class="skeleton-right"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="header-container"></div>
    <div id="navigation-container"></div>
    
    <main class="container-fluid py-4">
        <section class="breaking-news-section mb-4">
            <div class="row">
                <!-- Mobile Ad Banner - FIXED -->
                <div class="col-12 d-block d-lg-none mb-3">
                    <div class="ad-banner-horizontal" id="mobile-ad-banner">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="8937427990"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>
                </div>
                
                <!-- Left Ad Space - FIXED -->
                <div class="col-lg-2 d-none d-lg-block">
                    <div class="ad-space sticky-top" style="top: 100px;" id="left-sidebar-ad">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="8322366235"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="col-lg-8">
                    <h2 class="section-title mb-4">Breaking News</h2>
                    <div class="row">
                        <div class="col-12 mb-4">
                            <div class="main-breaking-news" id="mainBreakingNews">
                                <div class="breaking-news-placeholder" style="min-height: 200px;">
                                    <!-- Content will be loaded dynamically -->
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-4">
                            <div class="secondary-breaking-news" id="secondaryBreakingNews1">
                                <!-- Content will be loaded dynamically -->
                            </div>
                        </div>
                        <div class="col-md-6 mb-4">
                            <div class="secondary-breaking-news" id="secondaryBreakingNews2">
                                <!-- Content will be loaded dynamically -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Ad Space - FIXED -->
                <div class="col-lg-2 d-none d-lg-block">
                    <div class="ad-space sticky-top" style="top: 100px;" id="right-sidebar-ad">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="1142698459"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="news-categories-section">
            <div class="row">
                <!-- Left Ad Space - FIXED -->
                <div class="col-lg-2 d-none d-lg-block">
                    <div class="ad-space sticky-top" style="top: 100px;" id="left-sidebar-ad-2">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="1634503107"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="col-lg-8">
                    <!-- General News Section -->
                    <div class="category-section mb-5" id="generalNews">
                        <div class="section-header d-flex justify-content-between align-items-center mb-4">
                            <h2 class="section-title">General News</h2>
                            <a href="category.html?category=general" class="view-all">View All <i
                                    class="bi bi-arrow-right"></i></a>
                        </div>
                        <div class="news-section-grid" id="generalNewsGrid"></div>
                    </div>

                    <!-- Ad Banner 1 - FIXED -->
                    <div class="ad-banner-horizontal mb-5" id="horizontal-ad-1">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="8774502816"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>

                    <!-- Featured News Section -->
                    <div class="category-section mb-5" id="featuredNews">
                        <div class="section-header d-flex justify-content-between align-items-center mb-4">
                            <h2 class="section-title">Featured</h2>
                            <a href="category.html?category=featured" class="view-all">View All <i
                                    class="bi bi-arrow-right"></i></a>
                        </div>
                        <div class="news-section-grid" id="featuredNewsSlider"></div>
                    </div>
                    
                    <!-- Ad Banner 2 - FIXED -->
                    <div class="ad-banner-horizontal mb-5" id="horizontal-ad-2">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="6795206732"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>

                    <!-- Recent News Section -->
                    <div class="category-section mb-5" id="recentNews">
                        <div class="section-header d-flex justify-content-between align-items-center mb-4">
                            <h2 class="section-title">Recent Updates</h2>
                            <a href="category.html?category=recent" class="view-all">View All <i
                                    class="bi bi-arrow-right"></i></a>
                        </div>
                        <div class="news-section-grid" id="recentNewsList"></div>
                    </div>
                    
                    <!-- Ad Banner 3 - FIXED -->
                    <div class="ad-banner-horizontal mb-5" id="horizontal-ad-3">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="6566431435"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>

                    <!-- Entertainment Section -->
                    <div class="category-section mb-5" id="entertainmentNews">
                        <div class="section-header d-flex justify-content-between align-items-center mb-4">
                            <h2 class="section-title">Entertainment</h2>
                            <a href="category.html?category=entertainment" class="view-all">View All <i
                                    class="bi bi-arrow-right"></i></a>
                        </div>
                        <div class="news-section-grid" id="entertainmentGrid"></div>
                    </div>
                    
                    <!-- Ad Banner 4 - FIXED -->
                    <div class="ad-banner-horizontal mb-5" id="horizontal-ad-4">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="5253349765"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>

                    <!-- Tips & Tricks Section -->
                    <div class="category-section mb-5" id="tipsSection">
                        <div class="section-header d-flex justify-content-between align-items-center mb-4">
                            <h2 class="section-title">Tips & Tricks</h2>
                            <a href="category.html?category=tips" class="view-all">View All <i
                                    class="bi bi-arrow-right"></i></a>
                        </div>
                        <div class="news-section-grid" id="tipsGrid"></div>
                    </div>
                    
                    <!-- Ad Banner 5 - FIXED -->
                    <div class="ad-banner-horizontal mb-5" id="horizontal-ad-5">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="7879497198"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>

                    <!-- Story Telling Section -->
                    <div class="category-section mb-5" id="storiesSection">
                        <div class="section-header d-flex justify-content-between align-items-center mb-4">
                            <h2 class="section-title">Stories</h2>
                            <a href="category.html?category=stories" class="view-all">View All <i
                                    class="bi bi-arrow-right"></i></a>
                        </div>
                        <div class="news-section-grid" id="storiesGrid"></div>
                    </div>
                    
                    <!-- Ad Banner 6 - FIXED -->
                    <div class="ad-banner-horizontal mb-5" id="horizontal-ad-6">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="4169043397"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>
                </div>

                <!-- Right Ad Space - FIXED -->
                <div class="col-lg-2 d-none d-lg-block">
                    <div class="ad-space sticky-top" style="top: 100px;" id="right-sidebar-ad-2">
                        <div class="ad-container">
                            <ins class="adsbygoogle"
                                 style="display:block;"
                                 data-ad-client="ca-pub-6284022198338659"
                                 data-ad-slot="6119692964"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>
                </div>
                
                <div class="job-banner" id="jobBanner"></div>
            </div>
        </section>
    </main>

    <div class="notification-container"></div>
    <div id="footer-container"></div>

    <!-- Critical Scripts - Load First -->
    <script async src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>
    <script async src="https://code.jquery.com/jquery-3.7.1.min.js"
        onload="if(window.jQuery)jQuery.noConflict();"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- Firebase Core - Load Early -->
    <script async type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    </script>

    <script type="module">
        // Add this to your news-sections.js
        function createImageElement(src, alt) {
            return `
                <picture class="image-aspect-ratio">
                    <source srcset="${src.replace('.jpg', '.webp')}" type="image/webp">
                    <source srcset="${src.replace('.jpg', '.avif')}" type="image/avif">
                    <img src="${src}" 
                         alt="${alt}" 
                         loading="lazy" 
                         decoding="async" 
                         width="800" 
                         height="450" 
                         style="object-fit: cover; width: 100%; height: 100%;">
                </picture>
            `;
        }
    </script>

    <!-- Non-critical third party scripts -->
    <script defer src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>

    <!-- Application Scripts - Load Last -->
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/components/auth.js"></script>
    <script type="module" src="js/common.js"></script>
    <script defer src="js/loader.js"></script>
    <script type="module" src="js/components/top-bar.js"></script>
    <script type="module" src="js/components/component-loader.js"></script>
    <script type="module" src="js/news-sections.js"></script>
    <script type="module" src="js/banners.js"></script>
    <script type="module" src="js/social-share.js"></script>
    
    <!-- Final AdSense Initialization (safety push) -->
    <script>
        // Small safety push after load to help render any remaining slots.
        window.addEventListener('load', function() {
            setTimeout(function() {
                try {
                    (adsbygoogle = window.adsbygoogle || []).push({});
                } catch (e) {}
            }, 1500);
        });

        // Simple diagnostic check (call from console)
        function checkAdStatus() {
            console.log('=== AD STATUS CHECK ===');
            var ads = document.querySelectorAll('ins.adsbygoogle');
            console.log('Total ad units found: ' + ads.length);
            ads.forEach(function(ad, index) {
                var rect = ad.getBoundingClientRect();
                var isVisible = rect.width > 0 && rect.height > 0;
                var slot = ad.getAttribute('data-ad-slot');
                console.log('Ad ' + (index + 1) + ' (Slot: ' + slot + '): ' + 
                          'Visible: ' + isVisible +
                          ', Size: ' + Math.round(rect.width) + 'x' + Math.round(rect.height) +
                          ', InViewport: ' + (rect.top < window.innerHeight && rect.bottom > 0));
            });
        }

        setTimeout(checkAdStatus, 3000);
    </script>
</body>
</html>
